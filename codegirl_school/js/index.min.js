function hidePrice() { $.get("https://freegeoip.app/json/", function(e) { "BY" === e.country_code && ($(".priceUa").remove(), $(".priceBy").removeClass("d-none")), "UA" === e.country_code && ($(".priceBy").remove(), $(".priceUa").removeClass("d-none")) }, "jsonp") }

function flowingScroll(e) {
    e.preventDefault();
    const t = $(this),
        o = t.attr("href");
    console.log(t), $(o).length && $("html").animate({ scrollTop: $(o).offset().top - $(".header").height() }, 1e3)
}

function formValidationOnBlur() { $(this).closest(".request__form-validation").toggleClass("invalid", 0 === $(this).val().length) }

function formValidationOnSubmit(e) { return $(e.target).find(".request__form-field").each(function() { 0 === $(this).val().length && $(this).closest(".request__form-validation").addClass("invalid") }), !$(e.target).find(".invalid").length }

function formRequest(e) {
    if (e.preventDefault(), !formValidationOnSubmit(e)) return !1;
    const t = $(this),
        o = t.find("#name").val(),
        n = t.find("#phone").val(),
        i = t.find("#email").val(),
        a = t.find("#inst").val();
    contactVia = t.find('input[name="contact"]:checked').val(), TOKEN = "1986807830:AAGFYbtAFGkpwgfWa6lqK7Q8HWkqtvF6jrA", CHAT_ID = "-495628829", message = "*NEW STUDENT*\n\n\nName: " + o + "\nPhone: " + n + "\nEmail: " + i + "\nInstagram: " + a + "\nContact Via: " + contactVia, $.ajax({ type: "POST", url: "https://api.telegram.org/bot" + TOKEN + "/sendMessage", data: { chat_id: CHAT_ID, parse_mode: "HTML", text: message }, success: function() { window.location.href = "https://school.codegirl.ru/public/course/6693d9ae-1c39-4874-9ead-6bf8f4436487" }, error: function(e) {} })
}

function scrollToNavItem(e) {
    e.preventDefault();
    const t = $(this).attr("href");
    console.log($(t)), $(t).length && $("html").animate({ scrollTop: $(t).offset().top - $(".header").height() - 20 }, 500)
}

function carouselEvent(e) {
    var t = event.originalEvent.touches[0].pageX;
    $(this).one("touchmove", function(e) {
        var o = e.originalEvent.touches[0].pageX;
        Math.floor(t - o) > 5 ? $(this).carousel("next") : Math.floor(t - o) < -5 && $(this).carousel("prev")
    }), $(".carousel").on("touchend", function() { $(this).off("touchmove") })
}

function checkBlock() {
    const e = $(".header"),
        t = $(".nav-link"),
        o = t.map(function() { let e = $($(this).attr("href")); if (e.length) return e });
    let n, i = $(this).scrollTop() + e.height() + 70,
        a = o.map(function() { if ($(this).offset().top < i) return this }),
        r = (a = a[a.length - 1]) && a.length ? a[0].id : "";
    n !== r && (n = r, t.removeClass("active"), e.find("[href='#" + r + "']").addClass("active"))
}
$(document).ready(function() {
    hidePrice(), $(".btn--flowing-scroll").on("click", flowingScroll), $(".request__form").submit(formRequest), $(".request__form-field").blur(formValidationOnBlur), $(".nav-link").on("click", scrollToNavItem), $(".carousel").on("touchstart", function(e) {
        var t = e.originalEvent.touches[0].pageX;
        $(this).one("touchmove", function(e) {
            var o = e.originalEvent.touches[0].pageX;
            Math.floor(t - o) > 5 ? $(this).carousel("next") : Math.floor(t - o) < -5 && $(this).carousel("prev")
        }), $(".carousel").on("touchend", function() { $(this).off("touchmove") })
    })
}), $(window).scroll(function() {
    const e = $(".header"),
        t = $(window).scrollTop();
    e.toggleClass("header--fixed", t >= e.height()), checkBlock()
}), $(window).on("resize", function() {});